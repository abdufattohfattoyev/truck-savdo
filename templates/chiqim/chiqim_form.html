{% load widget_tweaks %}

<form id="chiqimForm" method="post" enctype="multipart/form-data" class="p-4 bg-white shadow-sm rounded-3">
    {% csrf_token %}
    <input type="hidden" name="id" id="chiqimId" value="{% if chiqim %}{{ chiqim.id }}{% endif %}">
    <div id="errorContainer" class="alert alert-danger d-none" role="alert"></div>

    <div class="row g-3">
        <!-- Vehicle Field -->
        <div class="col-12">
            <label for="id_truck" class="form-label fw-bold">Vehicle <span class="text-danger">*</span></label>
            {{ form.truck|add_class:"form-select" }}
            <div id="truckError" class="invalid-feedback"></div>
        </div>

        <!-- Customer Field -->
        <div class="col-12">
            <label for="id_xaridor" class="form-label fw-bold">Customer <span class="text-danger">*</span></label>
            {{ form.xaridor|add_class:"form-select" }}
            <div id="xaridorError" class="invalid-feedback"></div>
        </div>

        <!-- Price Field -->
        <div class="col-12 col-md-6">
            <label for="id_narx" class="form-label fw-bold">Price ($) <span class="text-danger">*</span></label>
            {{ form.narx|add_class:"form-control" }}
            <div id="narxError" class="invalid-feedback"></div>
        </div>

        <!-- Initial Payment Field -->
        <div class="col-12 col-md-6">
            <label for="id_tolangan_summa" class="form-label fw-bold">Initial Payment ($)</label>
            {{ form.tolangan_summa|add_class:"form-control" }}
            <div id="tolanganSummaError" class="invalid-feedback"></div>
        </div>

        <!-- First Payment Date Field -->
        <div class="col-12 col-md-6">
            <label for="id_tolov_sana" class="form-label fw-bold">First Payment Date</label>
            {{ form.tolov_sana|add_class:"form-control" }}
            <div id="tolovSanaError" class="invalid-feedback"></div>
        </div>

        <!-- Documents Field -->
        <div class="col-12">
            <label for="id_hujjatlar" class="form-label fw-bold">Documents</label>
            {{ form.hujjatlar|add_class:"form-control" }}
            <div id="hujjatlarError" class="invalid-feedback"></div>
        </div>

        <!-- Installment Term Field -->
        <div class="col-12 col-md-6">
            <label for="id_bo_lib_tolov_muddat" class="form-label fw-bold">Installment Term (months) <span class="text-danger">*</span></label>
            {{ form.bo_lib_tolov_muddat|add_class:"form-control" }}
            <div id="boLibTolovMuddatError" class="invalid-feedback"></div>
        </div>

        <!-- Notes Field -->
        <div class="col-12">
            <label for="id_izoh" class="form-label fw-bold">Notes</label>
            {{ form.izoh|add_class:"form-control" }}
            <div id="izohError" class="invalid-feedback"></div>
        </div>
    </div>

    <div class="mt-4">
        <button type="submit" class="btn btn-primary w-100">Save</button>
    </div>
</form>